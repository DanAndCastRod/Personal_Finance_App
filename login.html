<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <title>Log in </title>
  <link rel="stylesheet" href="./style/bootstrap.1.min.css">
  <link rel="stylesheet" href="./style/bootstrap.min.css">
  <link rel="stylesheet" href="./style/styles.css">
  <link rel="stylesheet" href="./style/bootstrap.min.css">
  <link rel="stylesheet" href="./style/bootstrap-icons.css">
  <link rel="stylesheet" href="./style/styles.nt.css">
  <link rel="stylesheet" href="./style/fontawesome.min.css">
  <link rel="stylesheet" href="./style/material-components-web.min.css">
  <link rel="stylesheet" href="./style/icon.css">
  <link rel="stylesheet" href="./style/pe7sicons.css">
  <link rel="stylesheet" href="./style/all.min.css">
  <link rel="shortcut icon" href="./img/1Recurso 1.png">
  <style>
    /* Clase para la imagen de fondo */
/* Ajuste del video de fondo */
.video-background video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover; /* Asegura que el video cubra todo el fondo */
  z-index: 0; /* Mantiene el video detrás de todo el contenido */
}

/* Capa verde semitransparente sobre el video */
.bg-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  /* background-color: rgba(10,127,223, 0.7);  */
  /* Verde con transparencia */
  z-index: 1; /* Superpone el color al video */
}

/* Asegura que el contenido del carrusel esté por encima del video y la capa */
.carousel {
  z-index: 2;
  position: relative;
}


    /* Clase para el color de fondo con transparencia */
    .bg-gb-petroleo2 {
      /* background-color: rgba(0, 72, 83, 0.8);  */
      /* Color verde con 70% de opacidad */
    }

  </style>
</head>

<body>
  <!-- <div class="carga">
    <div class="loader"></div>
  </div> -->
  <div class="app-container app-theme-white body-tabs-shadow">
    <div class="app-container">
      <div class="h-100">
        <div class="h-100 no-gutters row">
            <div class="h-100 d-flex  justify-content-center align-items-center col-md-12 col-lg-6">
                <div class="card">
                  <div class="mx-auto app-login-box col-sm-12 col-md-10 col-lg-9">
    
                    <div class=" justify-content-center d-flex align-items-center gap-2 mt-4">
                      <img src="./img/1Recurso 22.png" alt="" height="80px" class="mb-3"> 
                      <div class="h1 fw-bolder text-pyro-S1">Pyro</div>
                    </div>
                    <h4 class="mb-0">
                      <span class="d-block">Bienvenido,</span>
                      <span>Por favor ingresa los datos de tu cuenta.</span>
                    </h4>
                    <h6 class="mt-3">¿No tienes cuenta? <a href="javascript:void(0);" class="text-primary">Contacta a
                        soporte</a></h6>
                    <div class="divider row"></div>
                    <div>
                      <form id="loginForm" class="">
                        <div class="form-row">
                          <div class="col-md-12">
                            <div class="position-relative form-group">
                              <label for="UserX" class="">Usuario</label>
                              <input name="UserX" id="UserX" placeholder="Ingresa Nombre de Usuario..." type="username"
                                class="form-control">
                            </div>
                          </div>
                          <div class="col-md-12">
                            <div class="position-relative form-group">
                              <label for="PasswordX" class="">Contraseña</label>
                              <input name="PasswordX" id="PasswordX" placeholder="Ingresa Contraseña..." type="password"
                                class="form-control">
                            </div>
                          </div>
                        </div>
                        <div class="position-relative form-check">
                          <input name="check" id="exampleCheck" type="checkbox" class="form-check-input">
                          <label for="exampleCheck" class="form-check-label">Recordarme</label>
                        </div>
                        <div class="divider row"></div>
                        <div class="d-flex align-items-center">
                          <div class="ml-auto mb-3">
                            <!-- <a href="javascript:void(0);" class="btn-lg btn btn-link">Recuperar contraseña</a> -->
                            <button type="submit" class="btn btn-primary btn-lg">Ingresar</button>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
          <div class="d-none d-lg-block col-lg-6 position-relative">
            <div class="video-background">
                <!-- Video de fondo -->
                <video autoplay muted loop id="backgroundVideo">
                  <source src="./img/2887463-hd_1920_1080_25fps.mp4" type="video/mp4">
                  Tu navegador no soporta el formato de video.
                </video>
              
                <!-- Capa verde semitransparente -->
                <div class="bg-overlay bg-pyro-S1 opacity-25"></div>
              
                <!-- Contenido del carrusel -->
                <div id="carouselExampleRide" class="carousel slide position-relative" data-bs-ride="true">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                          <div class="d-flex w-100 text-white justify-content-center align-items-center h-100">
                            <div class="col-8 text-center">
                              <h3 class="mb-3 fw-bold fs-1 text-pyro-P1" style="text-shadow: #000 5px 5px 5px;">Los datos impulsan decisiones inteligentes</h3>
                              <p class="fs-5">Contar con información precisa permite a las organizaciones tomar decisiones estratégicas basadas en hechos, no suposiciones.</p>
                            </div>
                          </div>
                        </div>
                        <div class="carousel-item">
                          <div class="d-flex w-100 text-white justify-content-center align-items-center h-100">
                            <div class="col-8 text-center">
                              <h3 class="mb-3 fw-bold fs-1 text-pyro-P1" style="text-shadow: #000 5px 5px 5px;">Anticipación y adaptación con datos</h3>
                              <p class="fs-5">Analizar tendencias y patrones en los datos ayuda a las empresas a anticipar cambios en el mercado y a adaptarse rápidamente, manteniéndose siempre un paso adelante de la competencia.</p>
                            </div>
                          </div>
                        </div>
                        <div class="carousel-item">
                          <div class="d-flex w-100 text-white justify-content-center align-items-center h-100">
                            <div class="col-8 text-center">
                              <h3 class="mb-3 fw-bold fs-1 text-pyro-P1" style="text-shadow: #000 5px 5px 5px;">Transforma los datos en valor</h3>
                              <p class="fs-5">El verdadero poder de los datos radica en su capacidad para generar valor. Convertir grandes volúmenes de información en insights útiles es clave para innovar y mejorar la experiencia del cliente.</p>
                            </div>
                          </div>
                        </div>
                      </div>
                  
                      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleRide" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                      </button>
                      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleRide" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                      </button>
                </div>
              </div>
              
          </div>
          
          
          
        </div>
      </div>
    </div>
  </div>
  <!-- <script src="./Scripts/Ip_conf.js"></script> -->
  <script src="./Scripts/popper.min.js"></script>
  <script src="./Scripts/bootstrap.min.js"></script>
  <script src="./Scripts/bootstrap.bundle.min.js"></script>
  <!-- <script src="./Scripts/components.js"></script> -->
  <script>
    const inputElement = document.getElementById("PasswordX");
    undefined;
    IP = '144.126.218.214'
    inputElement.addEventListener("keydown", function (event) {
      if (event.key == "Enter") {
        send_user2();
      }
    });
    const inputElement2 = document.getElementById('UserX')
    inputElement2.addEventListener('keydown', function (event) {
      if (event.key == 'Enter') {
        document.getElementById('PasswordX').focus()
      }
    })

    document.getElementById("loginForm").addEventListener("submit", function(event) {
    event.preventDefault(); // Evita que la página se recargue
    var form = this;

    // Limpia las validaciones previas
    var userField = document.getElementById("UserX");
    var passwordField = document.getElementById("PasswordX");
    userField.classList.remove('is-invalid');
    passwordField.classList.remove('is-invalid');

    // Validación manual de campos vacíos
    if (!userField.value.trim()) {
      userField.classList.add('is-invalid');
    }

    if (!passwordField.value.trim()) {
      passwordField.classList.add('is-invalid');
    }

    // Solo si ambos campos están llenos continuamos con el fetch
    if (userField.value.trim() && passwordField.value.trim()) {
      localStorage.clear();

      var data = {
        User: userField.value,
        Password: passwordField.value,
      };

      fetch("https://" + IP + ":1880/auth/" + data.User + "&" + data.Password)
        .then((response) => response.json())
        .then((data) => {
          const DataJson = JSON.stringify(data);
          localStorage.setItem("data", DataJson);

          var auth = data.auth;
          sessionStorage.setItem("auth", auth);

          if (auth == 1) {
            if (sessionStorage.hasOwnProperty("url")) {
              var url = sessionStorage.getItem("url");
              window.location.href = url;
            } else {
              window.location.href = "/";
            }
          } else {
            // Si la autenticación falla, muestra los errores
            userField.classList.add('is-invalid');
            passwordField.classList.add('is-invalid');

            // Mensaje de error de Bootstrap
            const invalidFeedback = '<div class="invalid-feedback d-block">Usuario o contraseña incorrectos</div>';
            if (!document.querySelector('#loginForm .invalid-feedback.d-block')) {
              passwordField.insertAdjacentHTML("afterend", invalidFeedback);
            }
          }
        });
    }
  });


  </script>
</body>


</html>